on_actions = {
	on_annex = {
		effect = {
			if = {
				limit = {
					ROOT = { original_tag = ITA }
					FROM = {
						original_tag = CMI
					}
				}
				ITA = {country_event = italy.530}

				ITA = {
					add_ideas = ITA_legacy_of_the_civil_war
					set_country_flag = ITA_fascist_or_neutral_win_civil_war
					if = {
						limit = {
							has_country_flag = ITA_evolas_coup_complete
						}
						load_focus_tree = ITA_evola_tree
					}
					if = {
						limit = {
							has_country_flag = ITA_mussolini_in_power
						}
						load_focus_tree = ITA_mussolini_tree
					}
				}
			}
			if = {
				limit = {
					tag = CMI
					FROM = {
						original_tag = ITA
					}
				}
				news_event = {id = italy.525}
				set_country_flag = ITA_commies_win_civil_war
			}
		}
	}
	on_capitulation = {
		effect = {
			if = {
				limit = {
					tag = CMI
					FROM = {
						tag = ITA
					}
				}
				ITA = {country_event = italy.530}
				set_country_flag = ITA_fascist_or_neutral_win_civil_war
				
				ITA = {
					annex_country = {
						target = CMI
						transfer_troops = yes
					}
				} 
			}
			if = {
				limit = {
					tag = ITA
					FROM = {
						tag = CMI
					}
				}
				news_event = {id = italy.525}
				set_country_flag = ITA_commies_win_civil_war
			}
		}
	}
    on_startup = {
		effect = {

			ITA = {
				ITA_MVSN_radar_graph_set_up = yes
				ITA_MVSN_convert_axes_values_to_frames = yes
				set_country_flag = ITA_mussolini_in_power
			}

			ITA = {
				set_variable = {evola_influence = 45}
				set_variable = {mussolini_influence = 30}
			}
			159 = { ##lombardy
				set_variable = {
					socialist_influence = 70
					
				}

				set_variable = {fascist_influence = 0}
					set_temp_variable = {
						socialist_temp_var = socialist_influence
					}

					subtract_from_temp_variable  = {socialist_temp_var = 100}
					multiply_temp_variable = {socialist_temp_var = -1}

					add_to_variable = {fascist_influence = socialist_temp_var}

					add_to_array ={
						array = ITA.socialist_GUI_array_target_states
						value = THIS
					}
				}
			158 = { ##piedmont 
				set_variable = {
					socialist_influence = 80
				
				}

				set_variable = {fascist_influence = 0}
				set_temp_variable = {
					socialist_temp_var = socialist_influence
				}

				subtract_from_temp_variable  = {socialist_temp_var = 100}
				multiply_temp_variable = {socialist_temp_var = -1}

				add_to_variable = {fascist_influence = socialist_temp_var}
				add_to_array ={
						array = ITA.socialist_GUI_array_target_states
						value = THIS
					}
			}
			161 = { ##emglignia
				set_variable = {
					socialist_influence = 60
				
				}

				set_variable = {fascist_influence = 0}
				set_temp_variable = {
					socialist_temp_var = socialist_influence
				}

				subtract_from_temp_variable  = {socialist_temp_var = 100}
				multiply_temp_variable = {socialist_temp_var = -1}

				add_to_variable = {fascist_influence = socialist_temp_var}
				add_to_array ={
						array = ITA.socialist_GUI_array_target_states
						value = THIS
					}
			}
			162 = { ##tuscant
				set_variable = {
					socialist_influence = 65
				
				}

				set_variable = {fascist_influence = 0}
				set_temp_variable = {
					socialist_temp_var = socialist_influence
				}

				subtract_from_temp_variable  = {socialist_temp_var = 100}
				multiply_temp_variable = {socialist_temp_var = -1}

				add_to_variable = {fascist_influence = socialist_temp_var}
				add_to_array ={
						array = ITA.socialist_GUI_array_target_states
						value = THIS
					}
			}
			157 = { ##abruzzo
				set_variable = {
					socialist_influence = 55
				
				}

				set_variable = {fascist_influence = 0}
				set_temp_variable = {
					socialist_temp_var = socialist_influence
				}

				subtract_from_temp_variable  = {socialist_temp_var = 100}
				multiply_temp_variable = {socialist_temp_var = -1}

				add_to_variable = {fascist_influence = socialist_temp_var}
				add_to_array ={
						array = ITA.socialist_GUI_array_target_states
						value = THIS
					}
			}

			891 = { ##livorno
				set_variable = {
					socialist_influence = 35
				
				}

				set_variable = {fascist_influence = 0}
				set_temp_variable = {
					socialist_temp_var = socialist_influence
				}

				subtract_from_temp_variable  = {socialist_temp_var = 100}
				multiply_temp_variable = {socialist_temp_var = -1}

				add_to_variable = {fascist_influence = socialist_temp_var}
				add_to_array ={
						array = ITA.socialist_GUI_array_target_states
						value = THIS
					}
			}
			

			892 = { ##livorno
				set_variable = {
					socialist_influence = 30
				
				}

				set_variable = {fascist_influence = 0}
				set_temp_variable = {
					socialist_temp_var = socialist_influence
				}

				subtract_from_temp_variable  = {socialist_temp_var = 100}
				multiply_temp_variable = {socialist_temp_var = -1}

				add_to_variable = {fascist_influence = socialist_temp_var}
				add_to_array ={
						array = ITA.socialist_GUI_array_target_states
						value = THIS
					}
			}

			ITA = { ITA_socialist_militia_population_setup = yes }
			
			

			
			}
		}
    }
