SOV_political_instability_people_effect = {
	if = {
		limit = {
			check_variable = {
				SOV_peoples_support_for_current_regime < 20
			}
		}
		random_list = {

		50 = {
			country_event = SOV_political_instability_people_events.1
		}
		50 = {
			country_event = SOV_political_instability_people_events.2
		}
		50 = {
			country_event = SOV_political_instability_people_events.3
		}
	}
	}
	
	if = {
		limit = {
			check_variable = {
				var = SOV_peoples_support_for_current_regime value = 20 compare = greater_than_or_equals 
			}
			check_variable = {
				var = SOV_peoples_support_for_current_regime value = 40 compare = less_than 
			}
		}
		random_list = {

		50 = {
			country_event = SOV_political_instability_people_events.4
		}
		50 = {
			country_event = SOV_political_instability_people_events.5
		}
		50 = {
			country_event = SOV_political_instability_people_events.6
		}
	}
	}

	if = {
		limit = {
			check_variable = {
				var = SOV_peoples_support_for_current_regime value = 40 compare = greater_than_or_equals 
			}
			check_variable = {
				var = SOV_peoples_support_for_current_regime value = 60 compare = less_than 
			}
		}
		random_list = {
		50 = {
			country_event = SOV_political_instability_people_events.4
		}
		50 = {
			country_event = SOV_political_instability_people_events.5
		}
		50 = {
			country_event = SOV_political_instability_people_events.6
		}
		50 = {
			country_event = SOV_political_instability_people_events.7
		}
		50 = {
			country_event = SOV_political_instability_people_events.8
		}
		50 = {
			country_event = SOV_political_instability_people_events.9
		}
	}
	}
	if = {
		limit = {
			check_variable = {
				var = SOV_peoples_support_for_current_regime value = 60 compare = greater_than_or_equals 
			}
			check_variable = {
				var = SOV_peoples_support_for_current_regime value = 80 compare = less_than 
			}
		}
		random_list = {
		50 = {
			country_event = SOV_political_instability_people_events.7
		}
		50 = {
			country_event = SOV_political_instability_people_events.8
		}
		10 = {
			country_event = SOV_political_instability_people_events.9
		}
	}
	}

	if = {
		limit = {
			check_variable = {
				var = SOV_peoples_support_for_current_regime value = 80 compare = greater_than_or_equals 
			}
		}
		random_list = {
		50 = {
			country_event = SOV_political_instability_people_events.9
		}
	
		50 = {
			country_event = SOV_political_instability_people_events.10
		}
	}
	}
}






SOV_level_up_lenin_economic_reforms = {
		if = {
			limit = {
				NOT = {
					has_idea = SOV_lenins_economic_reforms
				}
			}
			add_ideas = SOV_lenins_economic_reforms
		}
		if = {
			limit = {
				has_idea = SOV_lenins_economic_reforms
			}
			swap_ideas = {
					add_idea = SOV_lenins_economic_reforms_2
					remove_idea = SOV_lenins_economic_reforms
			}
		}
	
		if = {
			limit = {
				has_idea = SOV_lenins_economic_reforms_2
			}
			swap_ideas = {
					add_idea = SOV_lenins_economic_reforms_3
					remove_idea = SOV_lenins_economic_reforms_2
			}
		}
	
}


SOV_level_up_workers_idea = { 
	if = {
		limit = {
			NOT = {
				has_idea = SOV_workers_idea
			}
		}
		add_ideas = SOV_workers_idea
	}
    if = {
        limit = {
            has_idea = SOV_workers_idea
        }
        swap_ideas = {
				add_idea = SOV_workers_idea_2
				remove_idea = SOV_workers_idea
		}
    }

    if = {
        limit = {
            has_idea = SOV_workers_idea_2
        }
        swap_ideas = {
				add_idea = SOV_workers_idea_3
				remove_idea = SOV_workers_idea_2
		}
    }
}

SOV_calculate_tsar_popularity_effect = {
	set_variable = {
		SOV_russian_peoples_support_stability = SOV_peoples_support_for_current_regime
	}
	divide_variable = {
		SOV_russian_peoples_support_stability = 100
	}

	set_variable = {
		SOV_russian_duma_support_pp = SOV_russian_duma_support
	}
	divide_variable = {
		SOV_russian_duma_support_pp = 50
	}
}



##Civil War release stiff
SOV_release_YAK = {
	hidden_effect = {
		
		YAK = {
			add_state_core = 644
			add_state_core = 562
			add_state_core = 637

			
		}
		release =  YAK 
			teleport_armies = {
				limit = { tag = SOV }
				to_state_array = owned_controlled_states
			}

		
		YAK = {
			set_country_flag = is_russian_collapse_nation
			set_country_flag = is_core_russian_collapse_nation
			set_country_flag = general_state_russian_collapse
			load_oob = SOV_civil_war
			every_owned_state = {
				create_unit = {
					division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"

					owner = PREV
				}
			}
		}
		
	}
}

SOV_release_ZMU = {
	hidden_effect = {
		ZMU = {
			add_state_core = 655
			add_state_core = 560
			add_state_core = 409
			add_state_core = 408
			add_state_core = 657
		}
		release =  ZMU 
			teleport_armies = {
				limit = { tag = SOV }
				to_state_array = owned_controlled_states
			}
			ZMU = {
				set_country_flag = is_russian_collapse_nation
				set_country_flag = is_core_russian_collapse_nation
				set_country_flag = general_state_russian_collapse
				load_oob = SOV_civil_war
				every_owned_state = {
					create_unit = {
						division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"
	
						owner = PREV
					}
				}
			}
		}		
	}


SOV_release_KRK = {
	hidden_effect = {
		KRK = {
			
			#add_state_core = 651
			add_state_core = 561
			add_state_core = 574
			add_state_core = 563
			add_state_core = 564
			add_state_core = 565
			add_state_core = 575
			
			add_state_core = 567
			add_state_core = 576
			add_state_core = 561
			add_state_core = 516
			add_state_core = 568
		}
		MON = {
			add_state_core = 566
			add_state_core = 564
			transfer_state = 566
			transfer_state = 564
		}
		release =  KRK 
			teleport_armies = {
				limit = { tag = SOV }
				to_state_array = owned_controlled_states
			}
			KRK = {
				set_country_flag = is_russian_collapse_nation
				set_country_flag = is_core_russian_collapse_nation
				set_country_flag = general_state_russian_collapse
				load_oob = SOV_civil_war
				every_owned_state = {
					create_unit = {
						division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"
	
						owner = PREV
					}
				}
			}
		}
	}


SOV_release_SRG = {
	hidden_effect = {
		SRG = {
			
			add_state_core = 569
			add_state_core = 578
			add_state_core = 571
			add_state_core = 577
			add_state_core = 403
			add_state_core = 580
			add_state_core = 653
			add_state_core = 572
			add_state_core = 579
			add_state_core = 579
			add_state_core = 580
			add_state_core = 573
			add_state_core = 581
		}
		release =  SRG 
			teleport_armies = {
				limit = { tag = SOV }
				to_state_array = owned_controlled_states
			}
			SRG = {
				set_country_flag = is_russian_collapse_nation
				set_country_flag = is_core_russian_collapse_nation
				set_country_flag = general_state_russian_collapse
				load_oob = SOV_civil_war
				every_owned_state = {
					create_unit = {
						division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"
	
						owner = PREV
					}
				}
			}
		}
	}

SOV_release_PRM = {
	hidden_effect = {
		PRM = {
			
			add_state_core = 397
			add_state_core = 398
			
			#add_state_core = 582
			
			
			add_state_core = 256
			add_state_core = 400
			add_state_core = 398
			add_state_core = 399
			add_state_core = 651
			add_state_core = 249
			add_state_core = 651
		}
		release =  PRM 
			teleport_armies = {
				limit = { tag = SOV }
				to_state_array = owned_controlled_states
			}
			PRM = {
				set_country_flag = is_russian_collapse_nation
				set_country_flag = is_core_russian_collapse_nation
				set_country_flag = general_state_russian_collapse
				load_oob = SOV_civil_war
				every_owned_state = {
					create_unit = {
						division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"
	
						owner = PREV
					}
				}
			}
		}
	}

SOV_release_CHE = {
	hidden_effect = {
		CHE = {
			
			add_state_core = 233

			add_state_core = 232
			#add_state_core = 235
		#	add_state_core = 1085			
		}
		release =  CHE 
			teleport_armies = {
				limit = { tag = SOV }
				to_state_array = owned_controlled_states
			}
			CHE = {
				set_country_flag = is_russian_collapse_nation
				set_country_flag = is_core_russian_collapse_nation
				set_country_flag = revolutionary_state_russian_collapse
				load_oob = SOV_civil_war
				every_owned_state = {
					create_unit = {
						division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"
	
						owner = PREV
					}
				}
			}
		}
	}


SOV_release_GRN = {
	hidden_effect = {
		GRN = {
			add_state_core = 583
			add_state_core = 590
			
		}
		release =  GRN 
			teleport_armies = {
				limit = { tag = SOV }
				to_state_array = owned_controlled_states
			}
			GRN = {
				set_country_flag = is_russian_collapse_nation
				set_country_flag = is_core_russian_collapse_nation
				set_country_flag = revolutionary_state_russian_collapse
				load_oob = SOV_civil_war
				every_owned_state = {
					create_unit = {
						division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"
	
						owner = PREV
					}
				}
			}
		
	}
}

SOV_release_KLV = {
	hidden_effect = {
		
		KLV = {
			add_state_core = 652
			add_state_core = 251
			add_state_core = 250
			add_state_core = 406
			add_state_core = 236	
			add_state_core = 237
			add_state_core = 238
			add_state_core = 218
			add_state_core = 227
			add_state_core = 221
			add_state_core = 228
			add_state_core = 245
			add_state_core = 217
			add_state_core = 407
			add_state_core = 401
			add_state_core = 239
			add_state_core = 260
			add_state_core = 240
			add_state_core = 265
			add_state_core = 235
			add_state_core = 234
			add_state_core = 1085
		}
		release =  KLV 
			teleport_armies = {
				limit = { tag = SOV }
				to_state_array = owned_controlled_states
			}
			KLV = {
				load_oob = KLV_1936
				
			}
		
	}
}
SOV_release_central_asia = {
	hidden_effect = {
		NSK = {
			#add_state_core = 590
			add_state_core = 588
			add_state_core = 40
			add_state_core = 570
			add_state_core = 654
		}
		KAZ = {
			remove_state_core = 583
			remove_state_core = 590
			remove_state_core = 588
			remove_state_core = 587
		#	remove_state_core = 402
			#remove_state_core = 583
			remove_state_core = 582
			remove_state_core = 407
			remove_state_core = 406
		}
		TMS = {
			add_state_core = 587
			add_state_core = 585
			add_state_core = 405
		}
		TAJ = {
			add_state_core = 586
			add_state_core = 732
			add_state_core = 742
		}
		release = KAZ
		release = TMS
		release = TAJ
		release =  NSK 
		KAZ = {
			set_country_flag = is_russian_collapse_nation
			set_country_flag = central_asian_state_russian_collapse
			load_oob = SOV_civil_war
			every_owned_state = {
				create_unit = {
					division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"

					owner = PREV
				}
			}
		}
		TMS = {
			set_country_flag = is_russian_collapse_nation
			set_country_flag = central_asian_state_russian_collapse
			load_oob = SOV_civil_war
			every_owned_state = {
				create_unit = {
					division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"

					owner = PREV
				}
			}
		}
		TAJ = {
			set_country_flag = is_russian_collapse_nation
			set_country_flag = central_asian_state_russian_collapse
			load_oob = SOV_civil_war
			every_owned_state = {
				create_unit = {
					division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"

					owner = PREV
				}
			}
		}
		NSK = {
			set_country_flag = is_russian_collapse_nation
			set_country_flag = central_asian_state_russian_collapse
			load_oob = SOV_civil_war
			every_owned_state = {
				create_unit = {
					division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"

					owner = PREV
				}
			}
		}
	
			teleport_armies = {
				limit = { tag = SOV }
				to_state_array = owned_controlled_states
			}
		
	}
}

SOV_release_just_central_asia = {
	hidden_effect = {
		
		KAZ = {
			remove_state_core = 583
			remove_state_core = 590
			remove_state_core = 588
			remove_state_core = 587
		#	remove_state_core = 402
			#remove_state_core = 583
			remove_state_core = 582
			remove_state_core = 407
			remove_state_core = 406
		}
		TMS = {
			add_state_core = 587
			add_state_core = 585
			add_state_core = 405
		}
		TAJ = {
			add_state_core = 586
			add_state_core = 732
			add_state_core = 742
		}
		release = KAZ
		release = TMS
		release = TAJ
	
		
	}
}

SOV_release_NYK = {
	hidden_effect = {
		NYK = {
		#	add_state_core = 587
		#	add_state_core = 402
			
			add_state_core = 582
			

		}
		release =  NYK 
			teleport_armies = {
				limit = { tag = SOV }
				to_state_array = owned_controlled_states
			}
			NYK = {
				set_country_flag = is_russian_collapse_nation
				set_country_flag = is_core_russian_collapse_nation

				set_country_flag = revolutionary_state_russian_collapse
				load_oob = SOV_civil_war
				every_owned_state = {
					create_unit = {
						division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"
	
						owner = PREV
					}
				}
			}
	}
}

SOV_release_djbouti = {
	hidden_effect = {
		DJI = {
			add_state_core = 268
			set_cosmetic_tag = DJI_russian_republic_in_exile

		}
		release =  DJI
			teleport_armies = {
				limit = { tag = SOV }
				to_state_array = owned_controlled_states
			}
			NYK = {
				set_country_flag = is_russian_collapse_nation
				load_oob = SOV_civil_war
				every_owned_state = {
					create_unit = {
						division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"
	
						owner = PREV
					}
				}
			}
	}
}

SOV_release_UGL = {
	hidden_effect = {
		
		FOB = {
			set_cosmetic_tag = independent_baltic_states
			add_popularity = { ideology = authoritarian_democratic popularity = 0.5 }
			set_politics = {
				ruling_party = authoritarian_democratic
			}
		}
		UGL = {
			add_state_core = 262
			add_state_core = 214
			add_state_core = 351
			add_state_core = 252
			add_state_core = 255
			add_state_core = 257
			add_state_core = 258
			#add_state_core = 224
			add_state_core = 254
			add_state_core = 253
			add_state_core = 219
			add_state_core = 253
			add_state_core = 219
			add_state_core = 253
			add_state_core = 248
			add_state_core = 248
			add_state_core = 722
			add_state_core = 247
			add_state_core = 264
			add_state_core = 216
			add_state_core = 215
			add_state_core = 213
			add_state_core = 147
			add_state_core = 220
			add_state_core = 222
			add_state_core = 223
			add_state_core = 224
			add_state_core = 205
			add_state_core = 243
			add_state_core = 242
			add_state_core = 246
			add_state_core = 210
			add_state_core = 209
			add_state_core = 263
			add_state_core = 244
			add_state_core = 208
			add_state_core = 195
		
		}
		release =  UGL 
			teleport_armies = {
				limit = { tag = SOV }
				to_state_array = owned_controlled_states
			}
			UGL = {
				set_country_flag = is_russian_collapse_nation
				load_oob = SOV_civil_war
				every_owned_state = {
					log = "[THIS.GetName]"
					create_unit = {
						division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"
	
						owner = PREV
					}
				}
				every_owned_state = {
					log = "[THIS.GetName]"
					create_unit = {
						division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"
	
						owner = PREV
					}
				}
			}
	}
}

SOV_release_FIN = {
	hidden_effect = {
		FIN = {
			add_state_core = 111
			add_state_core = 145
			add_state_core = 146
			add_state_core = 147
			add_state_core = 148
			add_state_core = 149
			add_state_core = 150
			add_state_core = 722
		}
		release = FIN
		FIN = {
			set_country_flag = is_russian_collapse_nation
			load_oob = SOV_civil_war
			every_owned_state = {
				create_unit = {
					division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"

					owner = PREV
				}
			}
		}
	}
}

SOV_release_caucusus = {
	hidden_effect = {
		
		AZR = {
		}
		release = GEO
		release = AZR

		ARM = {
			add_state_core = 230
			add_state_core = 1082
			add_state_core = 1083
		}
		release = ARM
		ARM = {
			set_country_flag = is_russian_collapse_nation
			load_oob = SOV_civil_war
			every_owned_state = {
				create_unit = {
					division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"

					owner = PREV
				}
			}
		}
		GEO = {
			set_country_flag = is_russian_collapse_nation
			load_oob = SOV_civil_war
			every_owned_state = {
				create_unit = {
					division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"

					owner = PREV
				}
			}
		}
		AZR = {
			set_country_flag = is_russian_collapse_nation
			load_oob = SOV_civil_war
			every_owned_state = {
				create_unit = {
					division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"

					owner = PREV
				}
			}
		}
	}
}

SOV_release_eastern_europe = {
	hidden_effect = {
		UKR = {
			add_state_core = 93
			
		}
		NVR = {
			add_state_core = 137
			add_state_core = 196
			add_state_core = 200
			
			
		}
		ROM = {
			transfer_state = 78
			transfer_state = 766
		}
		BLR = {
			add_state_core = 94
			add_state_core = 95
			add_state_core = 96
		}
		release = UKR
		NVR = {
			transfer_state = 137
			transfer_state = 196
			transfer_state = 200
		}
		release = POL
		release = BLR
		UKR = {
			set_country_flag = is_russian_collapse_nation
			
			load_oob = SOV_civil_war
			every_owned_state = {
				create_unit = {
					division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"

					owner = PREV
				}
			}
		}
		NVR = {
			set_country_flag = is_russian_collapse_nation
			load_oob = SOV_civil_war
			every_owned_state = {
				create_unit = {
					division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"

					owner = PREV
				}
			}
		}
		POL = {
			set_country_flag = is_russian_collapse_nation
			load_oob = SOV_civil_war
			every_owned_state = {
				create_unit = {
					division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"

					owner = PREV
				}
			}
		}
		BLR = {
			set_country_flag = is_russian_collapse_nation
			load_oob = SOV_civil_war
			every_owned_state = {
				create_unit = {
					division = "name = \"Russian Civil War Division\" division_template = \"Generic Civil War Unit\" start_experience_factor = 0.5 start_equipment_factor = 1"

					owner = PREV
				}
			}
		}
	}
}

SOV_launch_okhrana_civil_war = {
	SOV = {
		set_cosmetic_tag = SOV_okhrana_color_tag
		set_politics = {
			ruling_party = neutrality
		}
	}
	RRR = {
		#add_state_core = 397
			add_state_core = 398
			
			#add_state_core = 582
			
			
			add_state_core = 256
			add_state_core = 400
			add_state_core = 398
			add_state_core = 399
			add_state_core = 651
			add_state_core = 249
			add_state_core = 651
			add_state_core = 652
			add_state_core = 251
			add_state_core = 250
			add_state_core = 406
			add_state_core = 236	
			add_state_core = 237
			add_state_core = 238
			add_state_core = 218
			add_state_core = 227
			add_state_core = 221
			add_state_core = 228
			add_state_core = 245
			add_state_core = 217
			add_state_core = 407
			add_state_core = 401
			add_state_core = 239
			add_state_core = 260
			add_state_core = 240
			add_state_core = 265
			add_state_core = 235
			add_state_core = 234
			add_state_core = 1085
			add_state_core = 257
			add_state_core = 255
			add_state_core = 254
			add_state_core = 252
			add_state_core = 200
			add_state_core = 196

			add_state_core = 137
			add_state_core = 397
			add_state_core = 573
			add_state_core = 582

	}

	LNU = {
		add_state_core = 262
		add_state_core = 581
		add_state_core = 579
		add_state_core = 580
		add_state_core = 653
	}

	SIB = {
		add_state_core = 653
		add_state_core = 403
		add_state_core = 583
		add_state_core = 402
		add_state_core = 590
		add_state_core = 571
		add_state_core = 588
		add_state_core = 570
		add_state_core = 569
		add_state_core = 568
		add_state_core = 567
		add_state_core = 566
		add_state_core = 564
		add_state_core = 563
		add_state_core = 561
		add_state_core = 657
		add_state_core = 408
		add_state_core = 409
		add_state_core = 560
		add_state_core = 562
		add_state_core = 637
		add_state_core = 572
		add_state_core = 40
		add_state_core = 654
	}

	SRG = {
		add_state_core = 577
		add_state_core = 578	
	}
	KRK = {
		set_cosmetic_tag = KRK_north_siberian_front
		add_state_core = 516
		add_state_core = 576
		add_state_core = 575
		add_state_core = 565
	}
	YAK = {
		add_state_core = 644
		add_state_core = 574

	}
	NSK = {
		set_cosmetic_tag = NSK_cossack_rebellion
		add_state_core = 572
		add_state_core = 583
		add_state_core = 403
		add_state_core = 571
		add_state_core = 590
		add_state_core = 570
		add_state_core = 588
		add_state_core = 40
	}
	KAZ = {
		add_state_core = 587
		add_state_core = 585
		add_state_core = 584
		add_state_core = 402

		add_state_core = 404
		add_state_core = 405
		add_state_core = 742
		add_state_core = 732
		add_state_core = 586
		add_state_core = 589
	}
	release = NSK
	release = KAZ
	release = YAK
	release = KRK
	release = SRG

	release = LNU
	
	release = RRR
	release = SIB
	
	SOV_release_FIN = yes

	ROM = {
		transfer_state = 78
		transfer_state = 766
	}
	BLR = {
		add_state_core = 94
		add_state_core = 95
		add_state_core = 96
	}
	release = POL
	#release = BLR
	
}

d_SOV_launch_okhrana_civil_war_debug = {
	SOV_launch_okhrana_civil_war = yes
}

SOV_level_up_duma_large_decision = {
	if = {
		limit = {
			has_country_flag = SOV_sided_with_kerensky_campaign
		}
		SOV_kerensky_level_up_duma_large_decision = yes
	}
	if = {
		limit = {
			has_country_flag = SOV_chose_lenin
		}
		SOV_lenin_level_up_duma_large_decision = yes
	}
	if = {
		limit = {
			has_country_flag = SOV_sided_with_pavel_campaign
		}
		SOV_pavel_level_up_duma_large_decision = yes
	}
	if = {
		limit = {
			has_country_flag = SOV_sided_with_belogurov_campaign
		}
		SOV_tsar_level_up_duma_large_decision = yes
	}
}

SOV_kerensky_level_up_duma_large_decision = {
	add_to_variable = {
		tooltip = SOV_increase_kerenskys_support_by_3
		kerensky_support = 3
	}
	add_to_variable = {
		tooltip = SOV_decrease_pavel_support_by_1
		pavel_support = -1
	}
	add_to_variable = {
		tooltip = SOV_decrease_lenins_support_by_1
		lenin_support = -1
	}
	add_to_variable = {
		tooltip = SOV_decrease_tsars_support_by_1
		tsar_support = -1
	}
}

SOV_pavel_level_up_duma_large_decision = {
	add_to_variable = {
		tooltip = SOV_increase_pavels_support_by_3
		pavel_support = 3
	}
	add_to_variable = {
		tooltip = SOV_decrease_kerenskys_support_by_1
		kerensky_support = -1
	}
	add_to_variable = {
		tooltip = SOV_decrease_lenins_support_by_1
		lenin_support = -1
	}
	add_to_variable = {
		tooltip = SOV_decrease_tsars_support_by_1
		tsar_support = -1
	}
}

SOV_lenin_level_up_duma_large_decision = {
	add_to_variable = {
		tooltip = SOV_increase_lenins_support_by_3
		lenin_support = 3
	}
	add_to_variable = {
		tooltip = SOV_decrease_kerenskys_support_by_1
		kerensky_support = -1
	}
	add_to_variable = {
		tooltip = SOV_decrease_pavel_support_by_1
		pavel_support = -1
	}
	add_to_variable = {
		tooltip = SOV_decrease_tsars_support_by_1
		tsar_support = -1
	}
}

SOV_tsar_level_up_duma_large_decision = {
	add_to_variable = {
		tooltip = SOV_increase_tsars_support_by_3
		tsar_support = 3
	}
	add_to_variable = {
		tooltip = SOV_decrease_kerenskys_support_by_1
		kerensky_support = -1
	}
	add_to_variable = {
		tooltip = SOV_decrease_pavel_support_by_1
		pavel_support = -1
	}
	add_to_variable = {
		tooltip = SOV_decrease_lenins_support_by_1
		lenin_support = -1
	}
}



SOV_level_up_duma_small_decision = {
	if = {
		limit = {
			has_country_flag = SOV_sided_with_kerensky_campaign
		}
		SOV_kerensky_level_up_duma_small_decision = yes
	}
	if = {
		limit = {
			has_country_flag = SOV_chose_lenin
		}
		SOV_lenin_level_up_duma_small_decision = yes
	}
	if = {
		limit = {
			has_country_flag = SOV_sided_with_pavel_campaign
		}
		SOV_pavel_level_up_duma_small_decision = yes
	}
	if = {
		limit = {
			has_country_flag = SOV_sided_with_belogurov_campaign
		}
		SOV_tsar_level_up_duma_small_decision = yes
	}
}


SOV_kerensky_level_up_duma_small_decision = {

	add_to_variable = {
		tooltip = SOV_increase_kerenskys_support_by_1
		kerensky_support = 1
	}
	
	random_list = {
		50 = {
			add_to_variable = {
				tooltip = SOV_decrease_pavel_support_by_1
				pavel_support = -1
			}
		}
		50 = {
		add_to_variable = {
			tooltip = SOV_decrease_lenins_support_by_1
			lenin_support = -1
		}
		}
		50 = {
		add_to_variable = {
		tooltip = SOV_decrease_tsars_support_by_1
			tsar_support = -1
		}
		}
	}
}

SOV_pavel_level_up_duma_small_decision = {
	add_to_variable = {
		tooltip = SOV_increase_pavels_support_by_1
		pavel_support = 1
	}
	
	random_list = {
		50 = {
			add_to_variable = {
				tooltip = SOV_decrease_kerenskys_support_by_1
				kerensky_support = -1
			}
		}
		50 = {
		add_to_variable = {
			tooltip = SOV_decrease_lenins_support_by_1
			lenin_support = -1
		}
		}
		50 = {
		add_to_variable = {
		tooltip = SOV_decrease_tsars_support_by_1
			tsar_support = -1
		}
		}
	}
}

SOV_lenin_level_up_duma_small_decision = {
	add_to_variable = {
		tooltip = SOV_increase_lenins_support_by_1
		lenin_support = 1
	}
	
	random_list = {
		50 = {
			add_to_variable = {
				tooltip = SOV_decrease_kerenskys_support_by_1
				kerensky_support = -1
			}
		}
		50 = {
		add_to_variable = {
			tooltip = SOV_decrease_pavel_support_by_1
			pavel_support = -1
		}
		}
		50 = {
		add_to_variable = {
		tooltip = SOV_decrease_tsars_support_by_1
			tsar_support = -1
		}
		}
	}
}

SOV_tsar_level_up_duma_small_decision = {
	add_to_variable = {
		tooltip = SOV_increase_tsars_support_by_1
		tsar_support = 1
	}
	
	random_list = {
		50 = {
			add_to_variable = {
				tooltip = SOV_decrease_kerenskys_support_by_1
				kerensky_support = -1
			}
		}
		50 = {
		add_to_variable = {
			tooltip = SOV_decrease_pavel_support_by_1
			pavel_support = -1
		}
		}
		50 = {
		add_to_variable = {
			tooltip = SOV_decrease_lenins_support_by_1
			lenin_support = -1
		}
		}
	}
}



SOV_elections_completion_effect = {
	if = {
		limit = {
			kerensky_wins_elections = yes
		}
		load_focus_tree = SOV_kerensky_presidency_path
		add_popularity = {
			ideology = socialism_democratic
			popularity = 0.1
		}
		hidden_effect = {
            if = {
                limit = {
					is_ai = yes
                    has_country_flag = SOV_chose_lenin
                }
				load_focus_tree = SOV_lenin_presidency_path
				remove_ideas = {
					mikhail_bernatsky
					aleksandr_konovalov
					aleksandr_konovalov_two
					mikhail_tereshchenko
					sergey_salazkin
					aleksey_nikitin
				}
				add_popularity = {
					ideology = socialism_democratic
					popularity = -0.1
				}
				set_politics = {
					ruling_party = communism
				}
				add_popularity = {
					ideology = communism
					popularity = 0.15
				}
            }
			if = {
                limit = {
					is_ai = yes
                    has_country_flag = SOV_sided_with_pavel_campaign
                }
				load_focus_tree = SOV_pavel_milyukov_presidency_tree
				remove_ideas = {
					mikhail_bernatsky
					aleksandr_konovalov
					aleksandr_konovalov_two
					mikhail_tereshchenko
					sergey_salazkin
					aleksey_nikitin
				}
				add_popularity = {
					ideology = socialism_democratic
					popularity = -0.1
				}
				set_politics = {
					ruling_party = democratic_liberalism
				}
				add_popularity = {
					ideology = democratic_liberalism
					popularity = 0.15
				}
            }
			if = {
                limit = {
					is_ai = yes
                    has_country_flag = SOV_sided_with_belogurov_campaign
                }
				load_focus_tree = SOV_the_return_of_the_tsar_tree
				remove_ideas = {
					mikhail_bernatsky
					aleksandr_konovalov
					aleksandr_konovalov_two
					mikhail_tereshchenko
					sergey_salazkin
					aleksey_nikitin
				}
				add_popularity = {
					ideology = socialism_democratic
					popularity = -0.1
				}
				set_politics = {
					ruling_party = democratic
				}
				add_popularity = {
					ideology = democratic
					popularity = 0.1
				}
            }
        }
	}
	if = {
		limit = {
			pavel_wins_elections = yes
		}
		load_focus_tree = SOV_pavel_milyukov_presidency_tree
		remove_ideas = {
					mikhail_bernatsky
					aleksandr_konovalov
					aleksandr_konovalov_two
					mikhail_tereshchenko
					sergey_salazkin
					aleksey_nikitin
				}

		set_politics = {
			ruling_party = democratic_liberalism
		}
		add_popularity = {
			ideology = democratic_liberalism
			popularity = 0.15
		}
	}
	if = {
		limit = {
			lenin_wins_elections = yes
		}
		load_focus_tree = SOV_lenin_presidency_path
		remove_ideas = {
			mikhail_bernatsky
			aleksandr_konovalov
			aleksandr_konovalov_two
			mikhail_tereshchenko
			sergey_salazkin
			aleksey_nikitin
		}
		set_politics = {
			ruling_party = communism
		}
		add_popularity = {
			ideology = communism
			popularity = 0.15
		}
	}
	if = {
		limit = {
			tsar_wins_elections = yes
		}
		load_focus_tree = SOV_the_return_of_the_tsar_tree
		remove_ideas = {
					mikhail_bernatsky
					aleksandr_konovalov
					aleksandr_konovalov_two
					mikhail_tereshchenko
					sergey_salazkin
					aleksey_nikitin
				}
		set_politics = {
			ruling_party = democratic
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
	}
}

d_fire_russian_civil_war_debug = {
	set_variable = {
		SOV_peoples_support_for_current_regime = -4
	}
	set_variable = {
		SOV_military_support_for_current_regime = -4
	}
}

d_reduce_russian_civil_election_mission_by_all = {
	add_days_mission_timeout = {
		mission = SOV_duma_elections_mission
		days = -179
	}
}
SOV_should_russia_collapse_lenin = {
	random_list = { 
		0 = {
			set_country_flag = SOV_collapse_russia_lenin
		}
		40 = {
			set_country_flag = SOV_dont_collapse_russia_lenin
		}
	}
}
SOV_modify_rsdlp_progressbar = {
	set_variable = { tsertelli_progressbar_x = SOV_trotsky_influence_in_party }
	add_to_variable = { tsertelli_progressbar_x = SOV_mezhraionstyists_influence_in_party }
}

d_fire_lenin_coalition_collapse = {
	set_variable = {
		SOV_lenin_influence_in_party = 0
	}
	set_variable = {
		SOV_trotsky_compliance = 0
	}
	set_variable = {
		SOV_mezhraionstyists_compliance = 0
	}
}

SOV_level_up_the_power_of_the_okrhana = {
	if = {
		limit = {
			has_idea = SOV_the_power_of_the_okrhana
		}
		add_ideas = SOV_the_power_of_the_okrhana_2
	}
	else = {
		add_ideas = SOV_the_power_of_the_okrhana
	}
}
SOV_level_up_the_power_of_the_okrhana = {
	if = {
		limit = {
			has_idea = SOV_the_power_of_the_okrhana_2
		}
		add_ideas = SOV_the_power_of_the_okrhana_3
	}
	else = {
		add_ideas = SOV_the_power_of_the_okrhana
	}
}



###Okhrana Map GUI
SOV_check_if_person_is_found_in_far_east = {
	###Kerensky 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_kerensky_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_kerensky_right_now = 1
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.1
	}
	###Lenin 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_lenin_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_lenin_right_now = 1
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.2
	}
	###Tsertelli 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_tsertelli_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_tsertelli_right_now = 1
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.3
	}
}

SOV_check_if_person_is_found_in_siberia = {
	###Kerensky 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_kerensky_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_kerensky_right_now = 2
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.1
	}
	###Lenin 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_lenin_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_lenin_right_now = 2
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.2
	}
	###Tsertelli 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_tsertelli_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_tsertelli_right_now = 2
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.3
	}
}

SOV_check_if_person_is_found_in_urals = {
	###Kerensky 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_kerensky_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_kerensky_right_now = 3
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.1
	}
	###Lenin 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_lenin_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_lenin_right_now = 3
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.2
	}
	###Tsertelli 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_tsertelli_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_tsertelli_right_now = 3
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.3
	}
}
SOV_check_if_person_is_found_in_northwestern_russia = {
	###Kerensky 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_kerensky_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_kerensky_right_now = 4
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.1
	}
	###Lenin 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_lenin_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_lenin_right_now = 4
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.2
	}
	###Tsertelli 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_tsertelli_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_tsertelli_right_now = 4
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.3
	}
}


SOV_check_if_person_is_found_in_volga = {
	###Kerensky 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_kerensky_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_kerensky_right_now = 5
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.1
	}
	###Lenin 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_lenin_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_lenin_right_now = 5
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.2
	}
	###Tsertelli 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_tsertelli_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_tsertelli_right_now = 5
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.3
	}
}

SOV_check_if_person_is_found_in_central_russia = {
	###Kerensky 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_kerensky_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_kerensky_right_now = 6
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.1
	}
	###Lenin 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_lenin_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_lenin_right_now = 6
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.2
	}
	###Tsertelli 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_tsertelli_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_tsertelli_right_now = 6
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.3
	}
}

SOV_check_if_person_is_found_in_southern_russia = {
	###Kerensky 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_kerensky_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_kerensky_right_now = 7
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.1
	}
	###Lenin 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_lenin_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_lenin_right_now = 7
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.2
	}
	###Tsertelli 
	if = {
		limit = {
			has_country_flag = SOV_okhrana_operation_arresting_tsertelli_currently_flag
			check_variable = {
				SOV_okhrana_operation_where_is_tsertelli_right_now = 7
			}
		}
		country_event = SOV_pavel_okhrana_operation_events.3
	}
}


SOV_calculate_political_support_modifier = {
	set_temp_variable = {
		SOV_peoples_support_for_current_regime_minus50 = SOV_peoples_support_for_current_regime
	}
	subtract_from_temp_variable = {
		SOV_peoples_support_for_current_regime_minus50 = 50
	}
	set_variable = { SOV_peoples_support_for_current_regime_stability_factor = SOV_peoples_support_for_current_regime_minus50 }
	divide_variable = { SOV_peoples_support_for_current_regime_stability_factor = 200 }
	set_variable = { SOV_peoples_support_for_current_regime_political_power_gain = SOV_peoples_support_for_current_regime_minus50 }
	divide_variable = { SOV_peoples_support_for_current_regime_political_power_gain = 100 }
	set_variable = { SOV_peoples_support_for_current_regime_drift_defence_factor = SOV_peoples_support_for_current_regime_minus50 }
	divide_variable = { SOV_peoples_support_for_current_regime_drift_defence_factor = 50 }


	set_variable = { SOV_peoples_support_for_current_regime_stability_factor_loc = SOV_peoples_support_for_current_regime_stability_factor }
	multiply_variable = { SOV_peoples_support_for_current_regime_stability_factor_loc = 100 }
	set_variable = { SOV_peoples_support_for_current_regime_political_power_gain_loc = SOV_peoples_support_for_current_regime_political_power_gain }
	multiply_variable = { SOV_peoples_support_for_current_regime_political_power_gain_loc = 100 }
	set_variable = { SOV_peoples_support_for_current_regime_drift_defence_factor_loc = SOV_peoples_support_for_current_regime_drift_defence_factor }
	multiply_variable = { SOV_peoples_support_for_current_regime_drift_defence_factor_loc = 100 }
}

 
SOV_increase_support_among_people_small = {
	add_to_variable = {
		tooltip = SOV_increase_support_among_people_small_tt
		SOV_peoples_support_for_current_regime = 2
	}
	SOV_calculate_political_support_modifier = yes

}

SOV_increase_support_among_people_medium = {
	add_to_variable = {
		tooltip = SOV_increase_support_among_people_medium_tt
		SOV_peoples_support_for_current_regime = 4
	}
	SOV_calculate_political_support_modifier = yes

}

SOV_increase_support_among_people_large = {
	add_to_variable = {
		tooltip = SOV_increase_support_among_people_large_tt
		SOV_peoples_support_for_current_regime = 6
	}
	SOV_calculate_political_support_modifier = yes

}



