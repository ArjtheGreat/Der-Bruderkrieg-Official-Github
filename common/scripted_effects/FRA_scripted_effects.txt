FRA_level_up_deregulation = {
    if = {
        limit = {
            has_idea = FRA_deregulation
        }
        swap_ideas = {
				add_idea = FRA_deregulation_2
				remove_idea = FRA_deregulation
		}
    }

    if = {
        limit = {
            has_idea = FRA_deregulation_2
        }
        swap_ideas = {
				add_idea = FRA_deregulation_3
				remove_idea = FRA_deregulation_2
		}
    }
}

FRA_level_up_workers_idea = {
	if = {
		limit = {
			NOT = {
				has_idea = FRA_workers_idea
			}
		}
		add_ideas = FRA_workers_idea
	}
    if = {
        limit = {
            has_idea = FRA_workers_idea
        }
        swap_ideas = {
				add_idea = FRA_FRA_workers_idea_2
				remove_idea = FRA_FRA_workers_idea
		}
    }

    if = {
        limit = {
            has_idea = FRA_FRA_workers_idea_2
        }
        swap_ideas = {
				add_idea = FRA_FRA_workers_idea_3
				remove_idea = FRA_FRA_workers_idea_2
		}
    }
}

FRA_peasent_revolt_effect = {
  if = {
    limit = {
      OR = { AND = { check_variable = {var = FRA_peasent_revolt_var value = 0 compare = greater_than}
			check_variable = {var = FRA_peasent_revolt_var value = 25 compare = less_than_or_equals} } check_variable = {var = FRA_peasent_revolt_var value = 0 compare = less_than} }
    }
    set_country_flag = FRA_peasentrevolt_crushed_flag
  }
  if = {
    limit = {
      check_variable = {var = FRA_peasent_revolt_var value = 25 compare = greater_than}
			check_variable = {var = FRA_peasent_revolt_var value = 40 compare = less_than_or_equals}
    }
    random_owned_controlled_state = {
      limit = {
        has_state_category = rural
        is_on_continent = europe
      }
      FPR = {
        set_state_owner = THIS
      }
    }
    random_owned_controlled_state = {
      limit = {
        has_state_category = rural
        is_on_continent = europe
      }
      FPR = {
        set_state_owner = THIS
      }
    }
    declare_war_on = {
      target = FPR
      type = annex_everything
    }
  }
  if = {
    limit = {
      check_variable = {var = FRA_peasent_revolt_var value = 40 compare = greater_than}
    }
    every_state = {
      limit = {
        is_owned_by = FRA
        has_state_category = rural
        is_on_continent = europe
      }
      FPR = {
        set_state_owner = THIS
      }

    }

    declare_war_on = {
      target = FPR
      type = annex_everything
    }
  }
}

d_frarevolt = {
  FRA_peasent_revolt_effect = yes
}