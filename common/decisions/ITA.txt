ITA_incoming_socialist_revolution = {
  ITA_incoming_socialist_revolution_decision = {

    priority = 10

    icon = generic_ignite_civil_war

    available = {
      hidden_trigger = { always = no }
    }

    days_mission_timeout = 270

    fire_only_once = yes 

    activation = {
      tag = ITA
    }

    visible = {
      tag = ITA
      has_idea = ITA_socialist_revolt
    } 

    cancel_if_not_visible = yes

    is_good = yes

    timeout_effect = {
      ###copy nehe states
     
      ITA = { 
        
        country_event = ITA_socialist_revolution_events.1
        set_country_flag = ITA_in_civil_war
      }

      hidden_effect = {
        set_variable = {prob_of_op_axis_failing = 0}
				set_temp_variable = {
					prob_of_op_axis_succeeding = socialist_influence
				}

				subtract_from_temp_variable  = {prob_of_op_axis_succeeding = 100}
				multiply_temp_variable = {prob_of_op_axis_succeeding = -1}

				add_to_variable = {prob_of_op_axis_failing = ITA_operation_axis_probability_success}
        random_list = {
          prob_of_op_axis_succeeding = {
            country_event = ITA_socialist_revolution_events.3
          }
          prob_of_op_axis_failing = {
            country_event = ITA_socialist_revolution_events.3
          }
        }
      }
    }
  }

  ITA_send_in_shocktroopers_to_FROM = {
    available = {
      tag = ITA
      NOT = {
        has_country_flag = ITA_currently_doing_shocktrooper_operation_deicision
      }
    }
    visible = {
      has_country_flag = open_civil_war_sidebar
      has_completed_focus = ITA_Send_in_the_Shocktroopers
    }

    cost = 20
    days_remove = 10

    fire_only_once = no
    days_re_enable = 10

    complete_effect = {
       set_country_flag = ITA_currently_doing_shocktrooper_operation_deicision
       event_target:italian_civil_war_state = {
         save_global_event_target_as = ITA_shocktrooper_civil_war_state
       }
    }

    remove_effect = {
      event_target:ITA_shocktrooper_civil_war_state = {
      add_to_variable = {
        tooltip = ITA_increase_fasicst_influence_by_5_in_state
        socialist_influence = -5
      }
      set_variable = {fascist_influence = 0}
				set_temp_variable = {
					socialist_temp_var = socialist_influence
				}

				subtract_from_temp_variable  = {socialist_temp_var = 100}
				multiply_temp_variable = {socialist_temp_var = -1}

				add_to_variable = {fascist_influence = socialist_temp_var}
    }
      clr_country_flag =ITA_currently_doing_shocktrooper_operation_deicision
    }
  }
  ITA_socialist_torture_campaign_in_FROM = {
    available = {
      tag = ITA
      NOT = {
        has_country_flag = ITA_currently_doing_socialist_torture_campaign_operation_deicision
      }
    }
    visible = {
      has_country_flag = open_civil_war_sidebar
      has_completed_focus = ITA_They_arent_Italians
    }

    cost = 25
    days_remove = 15

    fire_only_once = no
    days_re_enable = 10

    complete_effect = {
       set_country_flag = ITA_currently_doing_socialist_torture_campaign_operation_deicision
       event_target:italian_civil_war_state = {
         save_global_event_target_as = ITA_socialist_torture_campaign_civil_war_state
       }
    }

    remove_effect = {
      event_target:ITA_socialist_torture_campaign_civil_war_state = {
      add_to_variable = {
        tooltip = ITA_increase_fasicst_influence_by_5_in_state
        socialist_influence = -5
      }
      set_variable = {fascist_influence = 0}
				set_temp_variable = {
					socialist_temp_var = socialist_influence
				}

				subtract_from_temp_variable  = {socialist_temp_var = 100}
				multiply_temp_variable = {socialist_temp_var = -1}

				add_to_variable = {fascist_influence = socialist_temp_var}
    }
      clr_country_flag =ITA_currently_doing_socialist_torture_campaign_operation_deicision
    }
  }



  ITA_blank_1 = {
    available = {
       always = no
    }

    visible = {
      has_completed_focus = ITA_Keep_the_Others_Out_of_It
    }
  }
  ###OPERATION AXIS
  ITA_operation_axis_decision = {
    complete_effect = {
      set_country_flag = ITA_open_operation_axis_gui
      custom_effect_tooltip = ITA_open_operation_axis_gui_tt
    }
    visible = {
      has_completed_focus = ITA_Keep_the_Others_Out_of_It
    }
  }
  ITA_increase_deflection = {
    available = {
      tag = ITA
      NOT = {
        has_country_flag = ITA_currently_doing_operation_axis_deicision
      }
    }
    visible = {
      has_completed_focus = ITA_Keep_the_Others_Out_of_It
    }

    cost = 10
    days_remove = 15

    fire_only_once = no
    days_re_enable = 30

    complete_effect = {
       set_country_flag = ITA_currently_doing_operation_axis_deicision
    }

    remove_effect = {
      add_to_variable = {
        tooltip = ITA_increase_operation_axis_probability_success_by_5
        ITA_operation_axis_probability_success = 5
      }
      clr_country_flag =ITA_currently_doing_operation_axis_deicision
    }
  }
  ITA_contact_our_double_agents = {
    available = {
      tag = ITA
      NOT = {
        has_country_flag = ITA_currently_doing_operation_axis_deicision
      }
    }
    visible = {
      has_completed_focus = ITA_Keep_the_Others_Out_of_It
    }

    cost = 15
    days_remove = 20

    fire_only_once = no
    days_re_enable = 40

    complete_effect = {
       set_country_flag = ITA_currently_doing_operation_axis_deicision
    }

    remove_effect = {
      add_to_variable = {
        tooltip = ITA_increase_operation_axis_probability_success_by_5
        ITA_operation_axis_probability_success = 5
      }
      clr_country_flag =ITA_currently_doing_operation_axis_deicision
    }
  }
  ITA_send_a_false_radio_signal_to_prussia = {
    available = {
      tag = ITA
      NOT = {
        has_country_flag = ITA_currently_doing_operation_axis_deicision
      }
    }
    visible = {
      has_completed_focus = ITA_Keep_the_Others_Out_of_It
    }

    cost = 15
    days_remove = 5

    fire_only_once = no
    days_re_enable = 25

    complete_effect = {
       set_country_flag = ITA_currently_doing_operation_axis_deicision
    }

    remove_effect = {
      add_to_variable = {
        tooltip = ITA_increase_operation_axis_probability_success_by_5
        ITA_operation_axis_probability_success = 5
      }
      clr_country_flag =ITA_currently_doing_operation_axis_deicision
    }
  }
  ITA_boost_encoding_of_plans = {
    available = {
      tag = ITA
      NOT = {
        has_country_flag = ITA_currently_doing_operation_axis_deicision
      }
    }
    visible = {
      has_completed_focus = ITA_Keep_the_Others_Out_of_It
    }

    cost = 20
    days_remove = 30

    fire_only_once = no
    days_re_enable = 15

    complete_effect = {
       set_country_flag = ITA_currently_doing_operation_axis_deicision
    }

    remove_effect = {
      add_to_variable = {
        tooltip = ITA_increase_operation_axis_probability_success_by_5
        ITA_operation_axis_probability_success = 5
      }
      clr_country_flag =ITA_currently_doing_operation_axis_deicision
    }
  }
  ITA_leak_decoy_plans = {
    available = {
      tag = ITA
      NOT = {
        has_country_flag = ITA_currently_doing_operation_axis_deicision
      }
    }
    visible = {
      has_completed_focus = ITA_Keep_the_Others_Out_of_It
    }

    cost = 30
    days_remove = 45
    days_re_enable = 20

    fire_only_once = no

    complete_effect = {
       set_country_flag = ITA_currently_doing_operation_axis_deicision
    }

    remove_effect = {
      add_to_variable = {
        tooltip = ITA_increase_operation_axis_probability_success_by_7
        ITA_operation_axis_probability_success = 7
      }
      clr_country_flag =ITA_currently_doing_operation_axis_deicision
    }
  }
}


ITA_mafia_decision = {
  ITA_sabotage_mafia = {
    available = {
      tag = ITA

    }
    visible = {
      tag = ITA 
    }

    cost = 10
    days_remove = 10

    fire_only_once = yes

    remove_effect = {

    }
  }
}

ITA_northern_investments_decision = {
  ITA_invest_in_piedmont = {
    available = {
      tag = ITA

    }
    visible = {
      tag = ITA 
    }

    cost = 20
    days_remove = 25

    fire_only_once = yes

    remove_effect = {
      158 = {
        
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
  
				}
				add_extra_state_shared_building_slots = 1
      }
    }
  }
  ITA_invest_in_lombardy = {
    available = {
      tag = ITA

    }
    visible = {
      tag = ITA 
    }

    cost = 20
    days_remove = 25

    fire_only_once = yes

    remove_effect = {
        159 = {
          
          add_building_construction = {
            type = industrial_complex
            level = 1
            instant_build = yes
    
          }
          add_extra_state_shared_building_slots = 1
        }
        add_to_variable = {ITA_economic_civil_war_var = 5}
        ITA_calc_economic_recovery = yes
      }
    
  }
  ITA_invest_in_emliginia = {
    available = {
      tag = ITA

    }
    visible = {
      tag = ITA 
    }

    cost = 20
    days_remove = 25

    fire_only_once = yes

    remove_effect = {
      162 = {
          
        add_building_construction = {
          type = industrial_complex
          level = 1
          instant_build = yes
  
        }
        add_extra_state_shared_building_slots = 1
      }
    }
  }
  ITA_invest_in_marche = {
    available = {
      tag = ITA

    }
    visible = {
      tag = ITA 
    }

    cost = 20
    days_remove = 25

    fire_only_once = yes

    remove_effect = {
      888 = {
          
        add_building_construction = {
          type = industrial_complex
          level = 1
          instant_build = yes
  
        }
        add_extra_state_shared_building_slots = 1
      }
    }
  }

  ITA_invest_in_umbria = {
    available = {
      tag = ITA

    }
    visible = {
      tag = ITA 
    }

    cost = 20
    days_remove = 25

    fire_only_once = yes

    remove_effect = {
      887 = {
          
        add_building_construction = {
          type = industrial_complex
          level = 1
          instant_build = yes
  
        }
        add_extra_state_shared_building_slots = 1
      }
    }
  }

  ITA_invest_in_abbruzo = {
    available = {
      tag = ITA

    }
    visible = {
      tag = ITA 
    }

    cost = 20
    days_remove = 25

    fire_only_once = yes

    remove_effect = {
      889 = {
          
        add_building_construction = {
          type = industrial_complex
          level = 1
          instant_build = yes
  
        }
        add_extra_state_shared_building_slots = 1
      }
    }
  }

  
  
}


ITA_the_kings_men = {
  ITA_hold_a_speech_with_the_king = {
    available = {
      tag = ITA

    }
    visible = {
      tag = ITA 
    }

    cost = 10
    days_remove = 5

    fire_only_once = yes

    remove_effect = {
        add_to_variable = {
          mussolini_influence = 5
        }

        custom_effect_tooltip = increase_mussolini
    }
  }
  ITA_declare_evola_a_lunatic = { #which he is
    available = {
      tag = ITA

    }
    visible = {
      tag = ITA 
    }

    cost = 20
    days_remove = 30

    fire_only_once = yes

    remove_effect = {
        add_to_variable = {
          mussolini_influence = 5
        }
        add_to_variable = {
          evola_influence =  -5
        }
        custom_effect_tooltip = increase_mussolini
    }
  }
  ITA_lower_pro_evola_officials = {
    available = {
      tag = ITA

    }
    visible = {
      tag = ITA 
    }

    cost = 10
    days_remove = 30

    fire_only_once = no

    remove_effect = {
        add_to_variable = {
          mussolini_influence = 5
        }
        add_to_variable = {
          evola_influence =  -5
        }
        custom_effect_tooltip = increase_mussolini
    }
  }
  ITA_dissolving_pro_evola_cults = {
    available = {
      tag = ITA

    }
    visible = {
      tag = ITA 
    }

    cost = 10
    days_remove = 15

    fire_only_once = no

    remove_effect = {
        
        add_to_variable = {
          evola_influence =  -5
        }
        custom_effect_tooltip = increase_mussolini
    }
  }
  ITA_shut_down_the_gruppo_di_ur = {
    available = {
      tag = ITA

    }
    visible = {
      tag = ITA 
    }

    cost = 35
    days_remove = 15

    fire_only_once = yes

    remove_effect = {
        
        add_to_variable = {
          evola_influence =  -5
        }
        custom_effect_tooltip = increase_mussolini
    }
  }

  ITA_arresting_evola = {
    available = {
      custom_trigger_tooltip = {
        tooltip = arrest_evola_tt
        tag = ITA 
        set_temp_variable = {
          temp_benito = mussolini_influence
        }
        add_to_temp_variable = {temp_benito = 10}

        check_variable = {temp_benito > evola_influence}

      
      }
    }
    visible = {
      tag = ITA
    }

    cost = 25
    days_remove = 5

    fire_only_once = yes

    remove_effect = {
        set_country_flag = ITA_evola_has_been_arrested
        ##also include an event here

    }
  }



  ITA_denounce_mussolini_loyalty = {
    available = {
      tag = ITA

    }
    visible = {
      tag = ITA 
    }

    cost = 10
    days_remove = 15

    fire_only_once = no

    remove_effect = {
      add_to_variable = {
        mussolini_influence = -5
      }
      custom_effect_tooltip = increase_evola
    }
  }
  ITA_publishing_the_mussolini_socialist_papers = {
    available = {
      tag = ITA

    }
    visible = {
      tag = ITA 
    }

    cost = 20
    days_remove = 15

    fire_only_once = yes

    remove_effect = {
      add_to_variable = {
        mussolini_influence = -5
      }
      custom_effect_tooltip = increase_evola
    }
  }

  ITA_spreading_the_gruppo_di_ur = {
    available = {
      tag = ITA

    }
    visible = {
      tag = ITA 
    }

    cost = 10
    days_remove = 10

    fire_only_once = no

    remove_effect = {
      add_to_variable = {
        evola_influence = 5
      }
      custom_effect_tooltip = increase_evola
    }
  }
  ITA_hold_a_secret_meeting_with_the_king = {
    available = {
      tag = ITA

    }
    visible = {
      tag = ITA 
    }

    cost = 20
    days_remove = 5

    fire_only_once = yes

    remove_effect = {
      add_to_variable = {
        evola_influence = 5
      }
      custom_effect_tooltip = increase_evola
    }
  }
  ITA_promote_spiritualism = {
    available = {
      tag = ITA

    }
    visible = {
      tag = ITA 
    }

    cost = 15
    days_remove = 10

    fire_only_once = no

    remove_effect = {
      add_to_variable = {
        evola_influence = 5
      }
      custom_effect_tooltip = increase_evola
    }
  }
  ITA_evolas_coup_decision = { #not really a coup because he needs the MVSNs support
    available = {
      custom_trigger_tooltip = {
				tooltip = launch_evola_coups_tt		
        tag = ITA
        set_temp_variable = {
          temp_benito = mussolini_influence
        }
        add_to_temp_variable = {temp_benito = 20}

        AND = { 
                check_variable = { var = evola_influence value = temp_benito compare = greater_than }  
                check_variable = {var = evola_influence value = 60 compare = greater_than} 
            }
			}
       

    }
    visible = {
      tag = ITA 
      
    }

    cost = 40
    days_remove = 15

    fire_only_once = yes

    remove_effect = {
      set_country_flag = ITA_evolas_coup_first_part_done
      unlock_decision_category_tooltip = ITA_evola_interactions_with_the_mvsn_militias
    }
  }
}


ITA_evola_interactions_with_the_mvsn_militias = {
  #EVOLA INTERACTIONS - will be unlocked when Evola has the king on his side
  
}

ITA_the_next_grand_council_of_fascism_elections = {
  
}

ITA_mussolini_interactions_with_the_mvsn_militias = {
    #MUSSOLINI INTERACTIONS - will be unlocked when Mussolini has the king on his side

}





ITA_iron_guard = {
  
  ITA_smuggle_weapons = {

    icon = generic_industry

    cost = 20

    days_re_enable = 20

    available = {
      has_equipment = {
        infantry_equipment > 250
      }
      check_variable = { var = iron_guard_chance value = 96 compare = less_than }
    }

    days_remove = 7

    ai_will_do = {
      factor = 2
    }

    complete_effect = {
      add_to_variable = { var = iron_guard_chance value = 5 }
      add_equipment_to_stockpile = {
        type = infantry_equipment
        amount = -250
      }
      custom_effect_tooltip = ITA_increase_coup_chance
    }

  }

  ITA_loan_printers = {

    icon = ger_mefo_bills

    days_re_enable = 50

    available = {
      political_power_growth > 0.2
      check_variable = { var = iron_guard_chance value = 96 compare = less_than }
    }

    days_remove = 30

    ai_will_do = {
      factor = 1
      modifier = {
        has_political_power > 100
        factor = 2
      }
    }

    modifier = {
      political_power_cost = 0.2
    }

    remove_effect = {
      add_to_variable = { var = iron_guard_chance value = 5 }
      ROM = {
        add_popularity = {
          ideology = fascism
          popularity = 0.01
        }
      }
      custom_effect_tooltip = ITA_increase_coup_chance
    }

  }

  ITA_ROM_mutual_training = {

    cost = 25

    days_re_enable = 60

    icon = border_war

    ai_will_do = {
      factor = 2
    }

    days_remove = 25

    remove_effect = {
      army_experience = 5
      ROM = {
        army_experience = 5
      }
      add_to_variable = { var = iron_guard_chance value = 5 }
      custom_effect_tooltip = ITA_increase_coup_chance
    }

  }

  ITA_supply_ROM_army = {

    icon = generic_industry

    cost = 25

    fire_only_once = yes

    days_remove = 30

    ai_will_do = {
      factor = 1
      modifier = {
        num_of_military_factories < 25
        factor = 0
      }
    }

    modifier = {
      production_speed_buildings_factor = -0.1
    }

    remove_effect = {
      ROM = {
        add_offsite_building = { type = arms_factory level = 1 }
      }
      add_to_variable = { var = iron_guard_chance value = 5 }
      custom_effect_tooltip = ITA_increase_coup_chance
    }

  }

  ITA_promise_aid_when_allied = {

    cost = 50

    fire_only_once = yes

    icon = generic_construction

    ai_will_do = {
      factor = 1
    }

    days_remove = 25

    modifier = {
      consumer_goods_factor = 0.05
    }

    complete_effect = {
      add_to_variable = { var = iron_guard_chance value = 5 }
      custom_effect_tooltip = ITA_increase_coup_chance
    }

  }

  ITA_investigate_carol_scandals = {

      cost = 25

      days_re_enable = 100

      available = {
        ROM = { has_government = neutrality }
        check_variable = { var = iron_guard_chance value = 96 compare = less_than }
      }

      days_remove = 10

      modifier = {
        political_power_cost = 0.1
      }

      remove_effect = {
        ROM = {
          add_popularity = {
            ideology = neutrality
            popularity = -0.025
          }
        }
        add_to_variable = { var = iron_guard_chance value = 5 }
        custom_effect_tooltip = ITA_increase_coup_chance
      }
  }

  ITA_denounce_current_ROM_govt = {

    icon = generic_civil_support

    cost = 50

    fire_only_once = yes

    ai_will_do = {
      factor = 2
    }

    available = {
      ROM = {
        NOT = { has_government = fascism }
      }
      check_variable = { var = iron_guard_chance value = 91 compare = less_than }
    }

    complete_effect = {
      ROM = {
        add_opinion_modifier = { target = ITA modifier = medium_decrease }
      }
      add_to_variable = { var = iron_guard_chance value = 10 }
      custom_effect_tooltip = ITA_increase_coup_chance
    }

  }

}




ITA_evolas_political_reforms_decisions = {
  ITA_anti_habsburg_propoganda = {

    cost = 50

    fire_only_once = yes

    icon = generic_construction

    ai_will_do = {
      factor = 1
    }

    days_remove = 50

    modifier = {
      war_support_weekly = 0.01
    }

    visible = {
      has_completed_focus = ITA_the_greatest_threat
    }

    remove_effect = {
      
    }

  }
  ITA_contact_young_italy = {

    cost = 25

    fire_only_once = yes

    icon = generic_construction

    ai_will_do = {
      factor = 1
    }

    days_remove = 80

    modifier = {
      political_power_cost = 0.1
    }
    visible = {
      has_completed_focus = ITA_the_greatest_threat
    }


    remove_effect = {
      805 = {
        add_dynamic_modifier = {
          modifier = SOV_young_italy_activities
          days = 180
        }
      }
      160 = {
        add_dynamic_modifier = {
          modifier = SOV_young_italy_activities
          days = 180
        }
      }
    }

  }
  
 
}

ITA_evola_neo_feudalist_reforms = {

}

ITA_evola_romano_germanic_figure_of_worship = {
  
  ##ROMANO GERMANIC IDENTITY
  ITA_the_political_strength_of_augustus = {

    cost = 50

    days_re_enable = 35

    available = {
     NOT = { has_country_flag = ITA_currently_doing_worship_decision }
    }

    days_remove = 100
    
    complete_effect = {
      set_country_flag = ITA_currently_doing_worship_decision
    }

    modifier = {
      neutrality_drift = 0.03
      communism_drift = -0.01
      socialism_democratic_drift = -0.01
      democratic_communism_drift = -0.01
    } 
  }

  ITA_the_military_strength_of_caesar = {

    cost = 50

    days_re_enable = 35

    available = {
     NOT = { has_country_flag = ITA_currently_doing_worship_decision }
    }

    days_remove = 100
    
    complete_effect = {
      set_country_flag = ITA_currently_doing_worship_decision
    }

    modifier = {
      neutrality_drift = 0.03
      communism_drift = -0.01
      socialism_democratic_drift = -0.01
      democratic_communism_drift = -0.01
    }

    
  }

  ITA_the_roads_of_hadrian = {

    cost = 50

    days_re_enable = 35

    available = {
     NOT = { has_country_flag = ITA_currently_doing_worship_decision }
    }

    days_remove = 100
    
    complete_effect = {
      set_country_flag = ITA_currently_doing_worship_decision
    }

    modifier = {
      production_speed_infrastructure_factor = 0.15
      production_speed_industrial_complex_factor = 0.1
    } 
  }

  ITA_the_fierceness_of_alaric = {

    cost = 50

    days_re_enable = 35

    available = {
     NOT = { has_country_flag = ITA_currently_doing_worship_decision }
    }

    days_remove = 100
    
    complete_effect = {
      set_country_flag = ITA_currently_doing_worship_decision
    }

    modifier = {
      army_morale_factor = 0.1
      army_attack_factor = 0.1
    } 
  }

  ITA_the_cultural_renissance_of_charlegmagne = {

    cost = 50

    days_re_enable = 35

    available = {
     NOT = { has_country_flag = ITA_currently_doing_worship_decision }
    }

    days_remove = 100
    
    complete_effect = {
      set_country_flag = ITA_currently_doing_worship_decision
    }

    modifier = {
      research_speed_factor = 0.15
      political_power_gain = 0.2
    } 
  }

  ITA_the_diplomacy_of_bismarck = {

    cost = 50

    days_re_enable = 35

    available = {
     NOT = { has_country_flag = ITA_currently_doing_worship_decision }
    }

    days_remove = 100
    
    complete_effect = {
      set_country_flag = ITA_currently_doing_worship_decision
    }

    modifier = {
      drift_defence_factor = 0.4
      stability_factor = 0.15
    } 
  }
}


ITA_risorgemento_decisions = {

}

